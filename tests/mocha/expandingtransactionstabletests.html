<html>
<head>
    <meta charset="utf-8">
    <title>Mocha Tests</title>
    <link href="../../web/assets/stylesheets/application.css" rel="stylesheet" type="text/css"/>
    <link href="../../node_modules/mocha/mocha.css" rel="stylesheet"/>
</head>
<body>
<div id="mocha"></div>

<div style="display:none">
    <div id="template">
        <form method="post" action="" novalidate="novalidate" class="expanding-transaction-table form-horizontal">
            <div class="sections">
                <div class="section">
                    <div class="summary">
                        <div class="title">Income/Earnings</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_0_id"
                                   name="transactions[transactionsIn][0][id]" value="dividends"/>
                            <input type="hidden" id="transactions_transactionsIn_0_type"
                                   name="transactions[transactionsIn][0][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_0_amount">
                                    Dividends
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_0_amount"
                                       name="transactions[transactionsIn][0][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_2_id"
                                   name="transactions[transactionsIn][2][id]" value="account-interest"/>
                            <input type="hidden" id="transactions_transactionsIn_2_type"
                                   name="transactions[transactionsIn][2][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_2_amount">
                                    Account interest
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_2_amount"
                                       name="transactions[transactionsIn][2][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_3_id"
                                   name="transactions[transactionsIn][3][id]" value="salary-or-wages"/>
                            <input type="hidden" id="transactions_transactionsIn_3_type"
                                   name="transactions[transactionsIn][3][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_3_amount">
                                    Salary or wages
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_3_amount"
                                       name="transactions[transactionsIn][3][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_4_id"
                                   name="transactions[transactionsIn][4][id]" value="income-from-property-rental"/>
                            <input type="hidden" id="transactions_transactionsIn_4_type"
                                   name="transactions[transactionsIn][4][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_4_amount">
                                    Income from property rental
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_4_amount"
                                       name="transactions[transactionsIn][4][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="sub-total">
                            Total Income/Earnings: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <div class="summary">
                        <div class="title">State benefits</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_5_id"
                                   name="transactions[transactionsIn][5][id]" value="attendance-allowance"/>
                            <input type="hidden" id="transactions_transactionsIn_5_type"
                                   name="transactions[transactionsIn][5][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_5_amount">
                                    Attendance Allowance
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_5_amount"
                                       name="transactions[transactionsIn][5][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_6_id"
                                   name="transactions[transactionsIn][6][id]" value="disability-living-allowance"/>
                            <input type="hidden" id="transactions_transactionsIn_6_type"
                                   name="transactions[transactionsIn][6][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_6_amount">
                                    Disability Living Allowance
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_6_amount"
                                       name="transactions[transactionsIn][6][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_7_id"
                                   name="transactions[transactionsIn][7][id]" value="personal-independence-payment"/>
                            <input type="hidden" id="transactions_transactionsIn_7_type"
                                   name="transactions[transactionsIn][7][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_7_amount">
                                    Personal Independence Payment
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_7_amount"
                                       name="transactions[transactionsIn][7][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_8_id"
                                   name="transactions[transactionsIn][8][id]" value="severe-disablement-allowance"/>
                            <input type="hidden" id="transactions_transactionsIn_8_type"
                                   name="transactions[transactionsIn][8][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_8_amount">
                                    Severe Disablement Allowance
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_8_amount"
                                       name="transactions[transactionsIn][8][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_9_id"
                                   name="transactions[transactionsIn][9][id]" value="winter-fuel-cold-weather-payment"/>
                            <input type="hidden" id="transactions_transactionsIn_9_type"
                                   name="transactions[transactionsIn][9][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required" for="transactions_transactionsIn_9_amount">
                                    Winter Fuel/Cold Weather payment
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_9_amount"
                                       name="transactions[transactionsIn][9][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_10_id"
                                   name="transactions[transactionsIn][10][id]" value="housing-benefit"/>
                            <input type="hidden" id="transactions_transactionsIn_10_type"
                                   name="transactions[transactionsIn][10][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_10_amount">
                                    Housing Benefit
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_10_amount"
                                       name="transactions[transactionsIn][10][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_11_id"
                                   name="transactions[transactionsIn][11][id]" value="employment-support-allowance"/>
                            <input type="hidden" id="transactions_transactionsIn_11_type"
                                   name="transactions[transactionsIn][11][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_11_amount">
                                    Employment Support Allowance
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_11_amount"
                                       name="transactions[transactionsIn][11][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_12_id"
                                   name="transactions[transactionsIn][12][id]" value="incapacity-benefit"/>
                            <input type="hidden" id="transactions_transactionsIn_12_type"
                                   name="transactions[transactionsIn][12][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_12_amount">
                                    Incapacity Benefit
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_12_amount"
                                       name="transactions[transactionsIn][12][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_13_id"
                                   name="transactions[transactionsIn][13][id]" value="income-support"/>
                            <input type="hidden" id="transactions_transactionsIn_13_type"
                                   name="transactions[transactionsIn][13][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_13_amount">
                                    Income Support
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_13_amount"
                                       name="transactions[transactionsIn][13][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_14_id"
                                   name="transactions[transactionsIn][14][id]" value="pension-credit"/>
                            <input type="hidden" id="transactions_transactionsIn_14_type"
                                   name="transactions[transactionsIn][14][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_14_amount">
                                    Pension Credit
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_14_amount"
                                       name="transactions[transactionsIn][14][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_15_id"
                                   name="transactions[transactionsIn][15][id]" value="universal-credit"/>
                            <input type="hidden" id="transactions_transactionsIn_15_type"
                                   name="transactions[transactionsIn][15][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_15_amount">
                                    Universal Credit
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_15_amount"
                                       name="transactions[transactionsIn][15][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="sub-total">
                            Total State benefits: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <div class="summary">
                        <div class="title">Pensions</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_16_id"
                                   name="transactions[transactionsIn][16][id]" value="personal-pension"/>
                            <input type="hidden" id="transactions_transactionsIn_16_type"
                                   name="transactions[transactionsIn][16][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_16_amount">
                                    Personal pension
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_16_amount"
                                       name="transactions[transactionsIn][16][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_17_id"
                                   name="transactions[transactionsIn][17][id]" value="state-pension"/>
                            <input type="hidden" id="transactions_transactionsIn_17_type"
                                   name="transactions[transactionsIn][17][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_17_amount">
                                    State pension
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_17_amount"
                                       name="transactions[transactionsIn][17][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="sub-total">
                            Total Pensions: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="section" id="damages-section">
                    <div class="summary">
                        <div class="title">Damages</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_18_id"
                                   name="transactions[transactionsIn][18][id]" value="compensation-or-damages-award"/>
                            <input type="hidden" id="transactions_transactionsIn_18_type"
                                   name="transactions[transactionsIn][18][type]" value="in"/>

                            <div class="form-group form-group-compound">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_18_amount">
                                    Compensation or damages award
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_18_amount"
                                       name="transactions[transactionsIn][18][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                            <div class="form-group form-group-combo-description" id="add-error">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_18_moreDetails">
                                    Give more information
                                </label>


                                <textarea id="transactions_transactionsIn_18_moreDetails"
                                          name="transactions[transactionsIn][18][moreDetails]" required="required"
                                          class=" form-control expandingr transaction-more-details"></textarea>

                            </div>

                        </div>
                        <div class="sub-total">
                            Total Damages: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <div class="summary">
                        <div class="title">One-off</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_19_id"
                                   name="transactions[transactionsIn][19][id]" value="bequest-received"/>
                            <input type="hidden" id="transactions_transactionsIn_19_type"
                                   name="transactions[transactionsIn][19][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_19_amount">
                                    Bequest received
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_19_amount"
                                       name="transactions[transactionsIn][19][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_20_id"
                                   name="transactions[transactionsIn][20][id]" value="gift-received"/>
                            <input type="hidden" id="transactions_transactionsIn_20_type"
                                   name="transactions[transactionsIn][20][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_20_amount">
                                    Gift received
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_20_amount"
                                       name="transactions[transactionsIn][20][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_21_id"
                                   name="transactions[transactionsIn][21][id]" value="sale-of-property"/>
                            <input type="hidden" id="transactions_transactionsIn_21_type"
                                   name="transactions[transactionsIn][21][type]" value="in"/>

                            <div class="form-group form-group-compound">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_21_amount">
                                    Sale of property
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_21_amount"
                                       name="transactions[transactionsIn][21][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                            <div class="form-group form-group-combo-description">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_21_moreDetails">
                                    Give more information
                                </label>


                                <textarea id="transactions_transactionsIn_21_moreDetails"
                                          name="transactions[transactionsIn][21][moreDetails]" required="required"
                                          class=" form-control expandingr transaction-more-details"></textarea>

                            </div>

                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_22_id"
                                   name="transactions[transactionsIn][22][id]" value="sale-of-asset"/>
                            <input type="hidden" id="transactions_transactionsIn_22_type"
                                   name="transactions[transactionsIn][22][type]" value="in"/>

                            <div class="form-group form-group-compound">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_22_amount">
                                    Sale of asset
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_22_amount"
                                       name="transactions[transactionsIn][22][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                            <div class="form-group form-group-combo-description">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_22_moreDetails">
                                    Give more information
                                </label>


                                <textarea id="transactions_transactionsIn_22_moreDetails"
                                          name="transactions[transactionsIn][22][moreDetails]" required="required"
                                          class=" form-control expandingr transaction-more-details"></textarea>

                            </div>

                        </div>
                        <div class="sub-total">
                            Total One-off: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <div class="summary">
                        <div class="title">Moving Money</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_23_id"
                                   name="transactions[transactionsIn][23][id]"
                                   value="transfers-in-from-client-s-other-accounts"/>
                            <input type="hidden" id="transactions_transactionsIn_23_type"
                                   name="transactions[transactionsIn][23][type]" value="in"/>

                            <div class="form-group form-group-compound">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_23_amount">
                                    Transfers in from %client%'s other accounts
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_23_amount"
                                       name="transactions[transactionsIn][23][amount]" required="required"
                                       class=" form-control form-control__number transaction-value" value="1.00"/>

                            </div>


                            <div class="form-group form-group-combo-description">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_23_moreDetails">
                                    Give more information
                                </label>


                                <textarea id="transactions_transactionsIn_23_moreDetails"
                                          name="transactions[transactionsIn][23][moreDetails]" required="required"
                                          class=" form-control expandingr transaction-more-details"></textarea>

                            </div>

                        </div>
                        <div class="sub-total">
                            Total Moving Money: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <div class="summary">
                        <div class="title">Other</div>
                        <div class="sub-total">£<span class="value">0.00</span></div>
                    </div>
                    <div class="detail transactions">
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_24_id"
                                   name="transactions[transactionsIn][24][id]" value="refunds"/>
                            <input type="hidden" id="transactions_transactionsIn_24_type"
                                   name="transactions[transactionsIn][24][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_24_amount">
                                    Refunds
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_24_amount"
                                       name="transactions[transactionsIn][24][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="transaction">
                            <input type="hidden" id="transactions_transactionsIn_25_id"
                                   name="transactions[transactionsIn][25][id]" value="anything-else"/>
                            <input type="hidden" id="transactions_transactionsIn_25_type"
                                   name="transactions[transactionsIn][25][type]" value="in"/>

                            <div class="form-group ">

                                <label class="form-label  required required"
                                       for="transactions_transactionsIn_25_amount">
                                    Anything else
                                </label>


                                <span class="input-group-prefix">£</span>
                                <input type="text" id="transactions_transactionsIn_25_amount"
                                       name="transactions[transactionsIn][25][amount]" required="required"
                                       class=" form-control form-control__number transaction-value"/>

                            </div>


                        </div>
                        <div class="sub-total">
                            Total Other: £<span class="value">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="grand-total">Total money in: £<span class="value">0.00</span></div>
            </div>

            <!--Component: button-bar-start-->
            <div class="form-group button-bar">
                <button type="submit" id="transactions_save" name="transactions[save]" class="button behat-link-save">
                    Save
                </button>

            </div> <!--Component: button-bar-end-->
            <input type="hidden" id="transactions_id" name="transactions[id]" value="1"/><input type="hidden"
                                                                                                id="transactions__token"
                                                                                                name="transactions[_token]"
                                                                                                value="fd0fdd657df10a4be33cccbda4a1a8ccdae3c54c"/>
        </form>
    </div>
</div>

<div id="placeholder"></div>

<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../../node_modules/chai/chai.js"></script>
<script src="../../node_modules/mocha/mocha.js"></script>

<script>
    var expect = chai.expect;
    mocha.setup('bdd');
</script>


<script src="../../src/AppBundle/Resources/assets/javascripts/expandingtransactiontable.js"></script>
<script src="expandingtransactiontabletests.js"></script>

<script>
    mocha.checkLeaks();
    mocha.globals(['jQuery']);
    mocha.run();
</script>
</body>
</html>
