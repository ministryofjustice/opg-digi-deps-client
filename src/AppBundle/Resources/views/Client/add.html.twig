{% extends 'AppBundle:Components/Page:page-service.html.twig' %}
{% set translationDomain = "registration" %}
{% trans_default_domain translationDomain %}

{% block pageTitle %}{{ 'addClient.pageTitle' | trans }} {% endblock %}
{% block contentClass %}{{ parent() }} registration-client-add behat-region-client-add{% endblock %}
{% block title %}{{ 'addClient.h1Title' | trans }}{% endblock %}

{% block pageNavigation %}
    {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_AD') %}
        {{ progress_bar('registration_admin', 3) }}
    {% else %}
        {{ progress_bar('registration', 3) }}
    {% endif %}

{% endblock %}

{% block validationSummary %}
    {{ form_errors_list(form) }}
{% endblock %}


{% block pageBody %}
    {{ form_start(form, {attr: {novalidate: 'novalidate' }}) }}

    {% include 'AppBundle:Components/Form:_form-title.html.twig' with {
        formTitle: "Client's details"
    } %}

    {{ form_input(form.firstname, 'firstname') }}
    {{ form_input(form.lastname, 'lastname') }}

    {{ form_input(form.address, 'address') }}
    {{ form_input(form.address2, 'address2') }}
    {{ form_input(form.county, 'county') }}
    {{ form_input(form.postcode, 'postcode', {'inputClass': 'form-control__postcode' }) }}
    {{ form_select(form.country, 'country') }}
    {{ form_input(form.phone, 'phone') }}

    {{ form_input(form.caseNumber, 'caseNumber') }}
    {{ form_known_date(form.courtDate, 'courtDate') }}

    {{ form_checkbox_group(form.allowedCourtOrderTypes, 'allowedCourtOrderTypes', {
        'fieldSetClass' : 'vertical',
        'legendClass' : 'form-label',
        'items': [
            {'labelClass': 'block-label', 'elementClass': '', 'description': "allowedCourtOrderTypes.description-0" | trans({}, translationDomain) },
            {'labelClass': 'block-label', 'elementClass': '', 'description': "allowedCourtOrderTypes.description-1" | trans({}, translationDomain) | raw, 'disabled': 'disabled' }
        ]
    }) }}


    {% include 'AppBundle:Components/ButtonBar:_start.html.twig' %}
        {{ form_submit(form.save,'saveAndContinue') }}
    {% include 'AppBundle:Components/ButtonBar:_end.html.twig' %}
    {{ form_end(form) }}

    <script type="text/javascript">
        $(document).ready(function() {
            new GOVUK.SelectionButtons(":checkbox");
        });
    </script>

{% endblock %}
